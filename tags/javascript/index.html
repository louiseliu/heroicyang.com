<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  
  <title>javascript | Heroic Yang's Blog</title>
  <meta name="author" content="Heroic Yang">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

  
  <meta property="og:site_name" content="Heroic Yang's Blog"/>

  <link rel="alternate" href="/atom.xml" title="Heroic Yang's Blog" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/about.css" media="screen" type="text/css">
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js"></script>
  
</head>


<body>
  <div class="wrapper">
    <header id="header"><div class="title">
  <h1><a href="/">Heroic Yang's Blog</a></h1>
  <p><a href="/">Front-Ender, love javascript and node.</a></p>
</div>
<nav class="nav">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
      <li><a href="/about">About</a></li>
    
      <li><a href="/atom.xml">Rss</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
    <div class="content">
<h2 class="archive-title tag">javascript</h2>


  
    <article class="post">
  <header>
    
      <div class="icon"></div>
      <time datetime="2013-05-30T14:19:21.000Z"><a href="/2013/05/30/learn-javascript-inherit-class/">May 30 2013</a></time>
    
    
  
    <h1 class="title"><a href="/2013/05/30/learn-javascript-inherit-class/">关于JavaScript中的继承（一）：类式继承</a></h1>
  

  </header>
  
  <div class="entry">
    
      <p>“继承”是面向对象中的一个概念，说开去无非就是代码重用的一种方式罢了。  </p>
<p>虽然JavaScript并不是一门真正的面向对象语言，甚至连类的概念都没有。但得益于构造器的存在，在JavaScript中是可以完全模拟出 <strong>类-对象</strong> 行为的。如：  </p>
<figure class="highlight lang-javascript"><pre><span class="keyword">var</span> person = <span class="keyword">new</span> Person();
</pre></figure>

<p>看上去除了变量声明时不是强类型之外，完全与面向对象如出一辙。所以谈及继承时，大家首推的也是一种叫“类式继承”的手法了。  </p>
<h3>类式继承之基于原型链</h3>
<figure class="highlight lang-javascript"><pre><span class="keyword">var</span> Parent = <span class="function"><span class="keyword">function</span> <span class="params">(name)</span> {</span>
  <span class="keyword">this</span>.name = name || <span class="string">'heroic'</span>;
};
Parent.prototype.printName = <span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
  console.log(<span class="keyword">this</span>.name);
};
<span class="keyword">var</span> Child = <span class="function"><span class="keyword">function</span> <span class="params">(name)</span> {</span>};

inherit(Child, Parent);
<span class="comment">// or</span>
Child.inherit(Parent);
</pre></figure>


    
  </div>
  <footer class="end-sep">
    
      
        <div class="alignleft">
          <a href="/2013/05/30/learn-javascript-inherit-class/#more" class="more-link">阅读全文</a>
        </div>
      
      
    
    <div class="clearfix"></div>
  </footer>
</article>


  
    <article class="post">
  <header>
    
      <div class="icon"></div>
      <time datetime="2013-03-26T15:42:35.000Z"><a href="/2013/03/26/javascript-design-pattern-notes/">Mar 26 2013</a></time>
    
    
  
    <h1 class="title"><a href="/2013/03/26/javascript-design-pattern-notes/">《JavaScript设计模式》阅读笔记</a></h1>
  

  </header>
  
  <div class="entry">
    
      <p>最近总算是把《JavaScript设计模式》这本书给认认真真啃完了，受益匪浅。虽然已经是几年前的出版物了，而且也没得地方可以买到，但是我个人觉得这本书是JavaScript程序员必读书籍之一。如果没有读过，建议一读，绝对不会让你失望。  </p>
<p>而可能有一些地方的翻译让人一开始有点迷糊，比如我们常说的“单例模式”被译为“单体模式”，而“mixin class”被译为“掺元类”。但是对于我这种E文能力弱的人来说，完全没有挑剔的地方。  </p>
<p>我在读这本书的时候，采取了一些阅读方式来加深理解，个人感觉还过得去，就简单的分享下。我每两天完成一章节，第一天阅读整个章节的内容，边理解边对照着写实例代码；之后若是一有时间，大脑就温习这次的内容；第二天则主动回忆前一天所阅读的内容，整理简要的笔记纲要，并按照个人的理解和笔记纲要再写一次实例代码。  </p>
<p>因此这本书读完之后，我的笔记也就随即产出了。我没有采用很长的篇幅记录，而是思维导图来整理每一章的内容，这样也方便日后温习。  </p>
<p>呃，好久也没有写博客了，所以将笔记也一并分享出来，也欢迎大家分享自己的学习方法和笔记方法。<br>
    
  </div>
  <footer class="end-sep">
    
      
        <div class="alignleft">
          <a href="/2013/03/26/javascript-design-pattern-notes/#more" class="more-link">阅读全文</a>
        </div>
      
      
    
    <div class="clearfix"></div>
  </footer>
</article>


  
    <article class="post">
  <header>
    
      <div class="icon"></div>
      <time datetime="2012-10-14T14:50:00.000Z"><a href="/2012/10/14/javascript-timer-and-event-in-depth/">Oct 14 2012</a></time>
    
    
  
    <h1 class="title"><a href="/2012/10/14/javascript-timer-and-event-in-depth/">深入理解JavaScript定时器（续）</a></h1>
  

  </header>
  
  <div class="entry">
    
      <p>对于浏览器端来说，大多数事件都是异步的，但是有部分事件却不是，这部分事件称做<strong>同步事件</strong>，因此它们都是立即执行的，完全不理会前几篇文章中所提到的<strong>事件队列</strong>。以及浏览器的渲染、重绘等操作，也会打乱之前我们好不容易所建立起来的<strong>事件队列</strong>的概念。不过，本篇将会陆续不断的把这些坑给填上。  </p>
<h2>同步事件</h2>
<h3>DOM改变事件(DOM Mutation events)</h3>
<p>下面的Demo便用于说明同步事件之一的<code>DOM Mutation events</code>（注：该事件不支持Chrome浏览器）。</p>
<figure class="highlight lang-html"><pre><span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">"http://heroicyang.com/"</span>&gt;</span>
  heroicyang.com
<span class="tag">&lt;/<span class="title">a</span>&gt;</span>
<span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span>&gt;</span><span class="javascript">
  <span class="keyword">var</span> anchor = document.getElementsByTagName(<span class="string">'a'</span>)[<span class="number">0</span>];
  anchor.onclick = <span class="keyword">function</span>(e) {
    alert(<span class="string">'in onclick'</span>);
    <span class="keyword">this</span>.setAttribute(<span class="string">'href'</span>, <span class="string">'#'</span>);
    alert(<span class="string">'out onclick'</span>);
    <span class="keyword">return</span> <span class="literal">false</span>;
  };
  <span class="keyword">if</span> (anchor.addEventListener) {  <span class="comment">//Firefox, Opera</span>
    anchor
      .addEventListener(<span class="string">'DOMAttrModified'</span>, onpropchange, <span class="literal">false</span>);
  } <span class="keyword">else</span> <span class="keyword">if</span> (anchor.attachEvent) {  <span class="comment">//IE</span>
    anchor
      .attachEvent(<span class="string">'onpropertychange'</span>, onpropchange);
  }
  
  <span class="function"><span class="keyword">function</span> <span class="title">onpropchange</span><span class="params">()</span> {</span>
    alert(<span class="string">'onpropchange'</span>);
  }
</span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
</pre></figure>

<p>
    
  </div>
  <footer class="end-sep">
    
      
        <div class="alignleft">
          <a href="/2012/10/14/javascript-timer-and-event-in-depth/#more" class="more-link">阅读全文</a>
        </div>
      
      
    
    <div class="clearfix"></div>
  </footer>
</article>


  
    <article class="post">
  <header>
    
      <div class="icon"></div>
      <time datetime="2012-09-22T10:57:00.000Z"><a href="/2012/09/22/javascript-timer-in-depth/">Sep 22 2012</a></time>
    
    
  
    <h1 class="title"><a href="/2012/09/22/javascript-timer-in-depth/">深入理解JavaScript定时器</a></h1>
  

  </header>
  
  <div class="entry">
    
      <p>对于浏览器内部，大部分操作都是异步的生成事件并添加到<code>JavaScript引擎线程</code>的队列中，然后由<code>JavaScript引擎线程</code>进行调度执行。因此浏览器的很多事件都是和<code>JavaScript</code>相结合的，但是也有一些内部的限制。  </p>
<p>首先我们非常确定<code>JavaScript</code>是单线程的，对于浏览器来说，一个窗体中只有一个<code>JavaScript引擎线程</code>。而其他的行为，如：渲染、下载等是由单独的线程进行管理的，且具有不同的优先级。  </p>
<h2>异步事件</h2>
<p>前面提到大多数事件都是异步的，触发的时候就将回调函数添加到事件队列。浏览器提供了一个内部的回路，也就是之前所谈到的<code>Event Loop</code>，由它来负责检查队列和处理事件、执行函数等。详细可参考我的<a href="http://heroicyang.com/2012/08/28/javascript-event-loop.html">前一篇博文</a>。而<code>setTimeout</code>和<code>setInterval</code>也是将其需要执行的函数添加到事件队列。  </p>
<p><strong>事实上，大多数交互和活动都得通过事件循环。</strong><br>
    
  </div>
  <footer class="end-sep">
    
      
        <div class="alignleft">
          <a href="/2012/09/22/javascript-timer-in-depth/#more" class="more-link">阅读全文</a>
        </div>
      
      
    
    <div class="clearfix"></div>
  </footer>
</article>


  
    <article class="post">
  <header>
    
      <div class="icon"></div>
      <time datetime="2012-09-06T14:56:00.000Z"><a href="/2012/09/06/javascript-timers/">Sep 6 2012</a></time>
    
    
  
    <h1 class="title"><a href="/2012/09/06/javascript-timers/">理解JavaScript定时器：setTimeout和setInterval</a></h1>
  

  </header>
  
  <div class="entry">
    
      <p><strong>定时器其实并不是<code>JavaScript</code>提供的，而是由浏览器（对于前端来说）提供的。</strong>所以<code>setTimeout()</code>和<code>setInterval()</code>这两个方法均是通过浏览器的顶层对象<code>window</code>进行调用，可能平时大家在使用的过程中也会省去<code>window</code>而直接使用这两个方法。  </p>
<p>这两个方法所接收的参数都一样：  </p>
<p><figure class="highlight lang-javascript"><pre>setTimeout(func|code, delay);
setInterval(func|code, delay);
</pre></figure><br>这两个方法总是被简单的认为：在多少毫秒之后就执行里面的函数或者每间隔多少毫秒就执行里面的函数，基于这种理解的话会遇到很多匪夷所思的坑。而结合<a href="http://heroicyang.com/2012/08/28/javascript-event-loop.html">上篇文章</a>中所提到的执行队列来解释的话，很多疑问都可以迎刃而解。</p>
<p>前者：在指定的毫秒数后，将定时任务处理函数（<code>func|code</code>）添加到执行队列的队尾。  </p>
<p>后者：按照指定的周期（以毫秒计），将定时任务处理函数（<code>func|code</code>）添加到执行队列的队尾。<br>
    
  </div>
  <footer class="end-sep">
    
      
        <div class="alignleft">
          <a href="/2012/09/06/javascript-timers/#more" class="more-link">阅读全文</a>
        </div>
      
      
    
    <div class="clearfix"></div>
  </footer>
</article>


  

  <nav id="pagination">
  
  
    <a href="/tags/javascript/page/2/" class="next">Next</a>
  
  <div class="clearfix"></div>
</nav>
</div>
  </div>
  <footer id="footer"><div class="copyright">
  
  &copy; 2013 <a href="/">Heroic Yang</a>
  
</div>
<div class="theme-copyright">
  Theme by <a href="https://github.com/orderedlist" target="_blank">orderedlist</a>
   | 
  Redesign by <a href="http://heroicyang.com/" target="_blank">Heroic Yang</a>
</div>
<div class="clearfix"></div></footer>
  <script src="/js/scale.fix.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>


<script type="text/javascript">
  var duoshuoQuery = { short_name: 'heroicyang' };
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';
    ds.async = true;
    ds.src = 'http://static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script>



<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
  (function($){
    $('.fancybox').fancybox();
  })(jQuery);
</script>

</body>
</html>